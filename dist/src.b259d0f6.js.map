{"version":3,"sources":["index.js"],"names":["siteList","blogList","sitesDefault","logo","href","note","blogsDefault","title","info","listUl","$","listBlogs","addLi","addLiBlog","simplifyHref","replace","getSites","JSON","parse","localStorage","getItem","getBlogs","saveSites","setItem","stringify","saveBlogs","flag","display","hasClass","addClass","removeClass","render","remove","forEach","item","index","li","insertBefore","on","e","splice","blogLi","newSite","window","prompt","toUpperCase","push","newBlog","document","keypress","console","log","key","open","stopPropagation"],"mappings":"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","file":"src.b259d0f6.js","sourceRoot":"..\\src","sourcesContent":["let sitesDefault = [{\r\n    logo: \"C\",\r\n    href: \"https://blog.csdn.net\",\r\n    note: \"CSDN博客平台\"\r\n}, {\r\n    logo: \"Y\",\r\n    href: \"https://www.yuque.com\",\r\n    note: \"语雀，专业的云端知识库，为知识创作而生\"\r\n}]\r\nlet blogsDefault = [{\r\n    href: \"https://blog.csdn.net/qq_40029828/article/details/108920762\",\r\n    title: \"#再读JS# （6）jQuery设计思想\",\r\n    info: \"jQuery的基本设计思想和主要用法，就是&quot选择某个网页元素，然后对其进行某种操作&quot。\"\r\n}, {\r\n    href: \"https://blog.csdn.net/qq_40029828/article/details/108858868\",\r\n    title: \"#再读JS# （5）JS世界\",\r\n    info: \"__proto__用于存放共有属性的对象的地址，等同于其构造函数的prototype的地址\"\r\n}]\r\nlet listUl = $(\".siteLists\")\r\nlet listBlogs = $(\".blogList\")\r\nlet addLi = $(\".addSite\")\r\nlet addLiBlog = $(\".addBlog\")\r\nlet siteList\r\nlet blogList\r\nlet simplifyHref = (href) => {\r\n    return href.replace(\"http://www.\", \"\")\r\n        .replace(\"https://www.\", \"\")\r\n        .replace('http://', '')\r\n        .replace(\"https://\", \"\")\r\n}\r\nlet getSites = () => {\r\n    siteList = JSON.parse(localStorage.getItem(\"sites\"))\r\n    return siteList\r\n}\r\nlet getBlogs = () => {\r\n    blogList = JSON.parse(localStorage.getItem(\"blogs\"))\r\n    return blogList\r\n}\r\nlet saveSites = () => {\r\n    localStorage.setItem(\"sites\", JSON.stringify(siteList))\r\n}\r\nlet saveBlogs = () => {\r\n    localStorage.setItem(\"blogs\", JSON.stringify(blogList))\r\n}\r\nsiteList = getSites() || sitesDefault\r\nblogList = getBlogs() || blogsDefault\r\n//用flag来标记现在应该展示sites还是blogs，true为sites，false为blogs\r\nlet flag = true\r\nlet display = () => {\r\n    if (flag) {\r\n        //判断site是不是选中了，没有就加上selected，判断下面是不是被hidden了，是就移除\r\n        $(\"#lovedSites\").hasClass(\"selected\") ? null : $(\"#lovedSites\").addClass(\"selected\")\r\n        $(\"#sites\").hasClass(\"hidden\") ? $(\"#sites\").removeClass(\"hidden\") : null\r\n        $(\"#lovedBlogs\").hasClass(\"selected\") ? $(\"#lovedBlogs\").removeClass(\"selected\") : null\r\n        $(\"#blogs\").hasClass(\"hidden\") ? null : $(\"#blogs\").addClass(\"hidden\")\r\n    } else {\r\n        $(\"#lovedSites\").hasClass(\"selected\") ? $(\"#lovedSites\").removeClass(\"selected\") : null\r\n        $(\"#sites\").hasClass(\"hidden\") ? null : $(\"#sites\").addClass(\"hidden\")\r\n        $(\"#lovedBlogs\").hasClass(\"selected\") ? null : $(\"#lovedBlogs\").addClass(\"selected\")\r\n        $(\"#blogs\").hasClass(\"hidden\") ? $(\"#blogs\").removeClass(\"hidden\") : null\r\n    }\r\n}\r\nlet render = () => {\r\n    display()\r\n    $(\".siteLists .site\").remove()\r\n    $(\".blogList .blog\").remove()\r\n    siteList.forEach((item, index) => {\r\n        let li = $(`\r\n        <li class=\"site\"  data-id=${index}>\r\n        <span class=\"delete\" data-id=${index}>\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n        <use href=\"#icon-del\"></use>\r\n        </svg>\r\n        </span>\r\n        <a href=\"${ item.href}\">\r\n        <div div class= \"logo\" > ${item.logo}</div>\r\n        <p>${simplifyHref(item.href)}</p>\r\n        <p>${item.note}</p>\r\n        </a >\r\n        </li > `)\r\n        //把删除函数写在每个小li遍历的时候，才能拿到index，高级\r\n        $(li).insertBefore(addLi).on('click', '.delete', (e) => {\r\n            siteList.splice(index, 1)\r\n            saveSites()\r\n            render()\r\n        })\r\n    })\r\n    blogList.forEach((item, index) => {\r\n        let blogLi = $(\r\n            ` <li class=\"blog\">\r\n          <span class=\"delete\" data-id=${index}>\r\n          <svg class=\"icon\" aria-hidden=\"true\">\r\n            <use href=\"#icon-del\"></use>\r\n          </svg>\r\n        </span>\r\n        <a href=\"${item.href}\">\r\n                <h5>${item.title}</h5>\r\n                <p>${item.info}</p>\r\n            </a>\r\n            </li>`\r\n        )\r\n        $(blogLi).insertBefore(addLiBlog)\r\n            .on('click', '.delete', (e) => {\r\n                blogList.splice(index, 1)\r\n                saveBlogs()\r\n                render()\r\n            })\r\n\r\n    })\r\n}\r\nrender()\r\n//判断用户是否点击了取消，点击确认则即使空值也保存下来\r\naddLi.on(\"click\", () => {\r\n    let newSite = {}\r\n    newSite[\"href\"] = window.prompt(\"输入你喜欢的网址：\")\r\n    if (newSite[\"href\"] !== null) {\r\n        newSite[\"note\"] = window.prompt(\"备注喜欢的原因：\")\r\n        if (newSite[\"note\"] !== null) {\r\n            newSite[\"logo\"] = simplifyHref(newSite[\"href\"])[0].toUpperCase()\r\n            siteList.push(newSite)\r\n            saveSites()\r\n            render()\r\n        }\r\n    }\r\n})\r\naddLiBlog.on(\"click\", () => {\r\n    let newBlog = {}\r\n    newBlog[\"href\"] = window.prompt(\"输入博客地址：\")\r\n    if (newBlog[\"href\"] !== null) {\r\n        newBlog[\"title\"] = window.prompt(\"博客标题是：\")\r\n        if (newBlog[\"title\"] !== null) {\r\n            newBlog[\"info\"] = window.prompt(\"博客简介是：\")\r\n            if (newBlog[\"info\"] !== null) {\r\n                blogList.push(newBlog)\r\n                saveBlogs()\r\n                render()\r\n            }\r\n        }\r\n    }\r\n})\r\n$(window).on(\"unload\", function () {\r\n    saveSites()\r\n    saveBlogs()\r\n})\r\n$(\"#lovedSites\").on(\"click\", () => {\r\n    flag = flag ? flag : (!flag)\r\n    display()\r\n})\r\n$(\"#lovedBlogs\").on(\"click\", () => {\r\n    flag = flag ? (!flag) : flag\r\n    display()\r\n})\r\n//添加键盘事件，鼠标按下已有网站的logo的键时，直接跳转对应网站\r\n$(document).keypress((e) => {\r\n    console.log(e.key.toUpperCase())\r\n    siteList.forEach((item, index) => {\r\n        if (item.logo === e.key.toUpperCase()) {\r\n            window.open(item.href, \"_blank\")\r\n        }\r\n    }\r\n    )\r\n})\r\n//因为input也在页面中，会冒泡触发上述键盘事件，需要取消冒泡\r\n$(\".searchHead input\").keypress((e) => {\r\n    e.stopPropagation()\r\n})"]}